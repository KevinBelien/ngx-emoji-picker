<div class="ch-text-box-container" [ngClass]="textBoxClass()">
    <div class="ch-text-box-addon">
        @if ({ data: mode() }; as mode) {
            @if (!!mode.data) {
                <ng-content select="[addon-before]"></ng-content>
                <ch-icon *ngIf="mode.data === 'search'" cssClass="ch-search-icon" [height]="19" [width]="19" [iconPath]="icons.search"></ch-icon>
            }
        }
    </div>
    <input chAutofocus [autofocus]="autofocus()" class="ch-text-input" [type]="mode() === 'search' ? 'text' : mode()" [placeholder]="placeholder()" [value]="value()" [disabled]="disabled()" />
    <div class="ch-text-box-addon">
        <ng-content select="[addon-after]"></ng-content>

        @if (isClearButtonVisible()) {
            <ch-button
                cssClass="ch-clear-button"
                shape="round"
                ariaLabel="clear"
                [width]="18"
                [height]="18"
                [focusStateEnabled]="false"
                [activeStateEnabled]="false"
                [icon]="{ path: icons.clear, height: 14, width: 14 }"
                (onClick)="handleClearClick($event)"
            ></ch-button>
        }
    </div>
</div>
